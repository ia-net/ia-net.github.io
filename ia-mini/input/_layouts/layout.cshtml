@inherits Statiq.Razor.StatiqRazorPage<IDocument>

@{
    var startYear = 2025;
    var thisYear = DateTime.Now.Year;
    var yearText = startYear == thisYear ? $"{thisYear}" : $"{startYear}–{thisYear}";
}

<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@(Document.GetLink() == "/" ? "ia-net" : Document.GetString(Keys.Title) ?? "ia-net")</title>
    <link rel="icon" type="image/x-icon" href="@Context.GetLink("/assets/logo.svg")">
    <link rel="stylesheet" href="@Context.GetLink("/assets/style.css")" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/github.min.css">
</head>

<body>
    <div class="container">
        @* 홈에서는 hero 섹션이 들어오고, 그 외 페이지는 간단한 헤더 *@
        @if (IsSectionDefined("hero"))
        {
            @RenderSection("hero")
        }
        else
        {
            <header class="site-header">
                <h1 class="site-title"><a href="/">ia-net</a></h1>
                <p class="site-subtitle">Azure Cloud · .NET Core · MSSQL</p>
            </header>
        }

        <main class="site-main">
            @RenderBody()
        </main>

        <footer class="site-footer">
            <div class="footer-links">
                <a href="https://github.com/ia-net" target="_blank" rel="noopener">Github</a>
                <a href="/posts/about-this-blog">About this blog</a>
            </div>
            <p class="copy">© @yearText Eunseok Lee</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        document.addEventListener('DOMContentLoaded', function () {
            const btn = document.getElementById('backToTop');

            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    btn.classList.add('show');
                } else {
                    btn.classList.remove('show');
                }
            });

            btn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>